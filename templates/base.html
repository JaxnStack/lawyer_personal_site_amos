{% load static %}
<!DOCTYPE html>
<html lang="en" class="transition duration-300">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Amos Kisilu Advocates | Commercial Lawyer in Nairobi, Kenya</title>
  <meta name="description" content="Amos Kisilu Advocates is a top commercial law firm based in Nairobi, Kenya. We offer legal services in corporate law, contracts, real estate, and dispute resolution." />
  <meta name="keywords" content="Commercial Lawyer Nairobi, Corporate Law Kenya, Legal Services Nairobi, Amos Kisilu, Business Contracts, Real Estate Law Kenya" />
  <meta name="author" content="Amos Kisilu Advocates" />

  <!-- Canonical URL -->
  <link rel="canonical" href="{{ request.build_absolute_uri }}" />

  <!-- Open Graph for social sharing -->
  <meta property="og:title" content="Amos Kisilu Advocates | Commercial Lawyer in Nairobi" />
  <meta property="og:description" content="Top-rated legal services in Nairobi: contracts, business law, property, and more." />
  <meta property="og:url" content="{{ request.build_absolute_uri }}" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="{% static 'images/og-preview.jpg' %}" />  <!-- optional, if you have a preview image -->

  <!-- Structured Data (JSON-LD) for Legal Service -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LegalService",
    "name": "Amos Kisilu Advocates",
    "image": "https://lawyer-personal-site-amos.onrender.com/static/images/og-preview.jpg",  // replace if needed
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Kilimani",
      "addressLocality": "Nairobi",
      "addressCountry": "KE"
    },
    "url": "{{ request.build_absolute_uri }}",
    "telephone": "+254712345678",
    "description": "Commercial legal services including contracts, corporate law, and real estate in Kenya."
  }
  </script>

  <!-- Immediately apply dark mode -->
  <script>
    if (localStorage.theme === 'dark') {
      document.documentElement.classList.add('dark');
    }
  </script>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' };
  </script>

  <!-- Alpine.js -->
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'css/custom.css' %}" />
</head>

</head>

<body class="flex flex-col min-h-screen bg-white text-gray-800 dark:bg-gray-900 dark:text-gray-100 transition">

<!-- HEADER -->
<header class="bg-white dark:bg-gray-800 shadow sticky top-0 z-50">
  <nav class="container mx-auto flex items-center justify-between px-4 py-4">
    <a href="{% url 'home' %}" class="text-2xl font-bold text-blue-700 dark:text-blue-400">Amos Kisilu</a>

    <!-- Hamburger button -->
    <button id="hamburger-btn" class="md:hidden">
      <svg class="w-6 h-6 text-blue-700 dark:text-blue-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>

    <!-- Desktop Nav -->
    <ul class="hidden md:flex space-x-6 items-center">
      <li><a href="{% url 'home' %}" class="hover:text-blue-700 dark:hover:text-blue-300">Home</a></li>
      <li><a href="{% url 'about' %}" class="hover:text-blue-700 dark:hover:text-blue-300">About</a></li>
      <li><a href="{% url 'practice' %}" class="hover:text-blue-700 dark:hover:text-blue-300">Practice Areas</a></li>
      <li><a href="{% url 'blog' %}" class="hover:text-blue-700 dark:hover:text-blue-300">Insights</a></li>
      <li>
        <a href="{% url 'contact' %}" class="bg-blue-700 hover:bg-blue-800 text-white dark:bg-blue-600 dark:hover:bg-blue-700 px-4 py-2 rounded transition">Contact</a>
      </li>
      <li>
        <button id="darkToggle" class="text-xl ml-2">
          <span id="moon">üåô</span>
          <span id="sun" class="hidden">‚òÄÔ∏è</span>
        </button>
      </li>
    </ul>
  </nav>

  <!-- Mobile Nav -->
  <div id="mobile-menu" class="hidden md:hidden px-4 pb-4 space-y-2 bg-white dark:bg-gray-800">
    <a href="{% url 'home' %}" class="block py-2">Home</a>
    <a href="{% url 'about' %}" class="block py-2">About</a>
    <a href="{% url 'practice' %}" class="block py-2">Practice Areas</a>
    <a href="{% url 'blog' %}" class="block py-2">Insights</a>
    <a href="{% url 'contact' %}" class="block py-2">Contact</a>
    <button id="mobile-dark-toggle" class="block w-full py-2 text-left">üåó Toggle Mode</button>
  </div>
</header>

<!-- MAIN CONTENT -->
<main class="flex-grow">
  {% block content %}{% endblock %}
</main>

<!-- WhatsApp Floating Chat Button -->
<a href="https://wa.me/254712345678" target="_blank" aria-label="Chat on WhatsApp"
   class="fixed z-50 bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg transition-all duration-300 dark:bg-green-600 dark:hover:bg-green-700">
  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 .396C7.166.396.004 7.558.004 16.393c0 2.887.758 5.698 2.195 8.181L.085 31.605l7.26-2.373A15.87 15.87 0 0 0 16 32c8.834 0 15.996-7.162 15.996-15.607C31.996 7.558 24.834.396 16 .396zm0 29.1c-2.507 0-4.967-.66-7.106-1.912l-.51-.296-4.314 1.41 1.42-4.202-.333-.54a13.02 13.02 0 0 1-1.976-6.863c0-7.2 5.86-13.06 13.06-13.06s13.06 5.86 13.06 13.06-5.86 13.06-13.06 13.06zm7.548-9.71c-.407-.204-2.405-1.19-2.78-1.326-.373-.137-.647-.204-.92.203-.274.407-1.057 1.326-1.294 1.6-.237.273-.48.308-.887.103-.407-.205-1.72-.634-3.275-2.02-1.21-1.08-2.03-2.415-2.27-2.822-.237-.407-.025-.628.18-.833.184-.183.407-.48.61-.72.203-.24.27-.407.407-.68.137-.273.068-.51-.034-.72-.102-.204-.92-2.212-1.26-3.03-.33-.792-.66-.684-.92-.696h-.785c-.24 0-.63.09-.96.432s-1.26 1.23-1.26 3.004c0 1.774 1.29 3.488 1.47 3.728.18.24 2.54 3.876 6.16 5.436.86.37 1.53.59 2.05.756.86.27 1.645.232 2.265.14.69-.103 2.12-.866 2.42-1.7.3-.836.3-1.553.21-1.7-.09-.14-.33-.22-.74-.425z"/>
  </svg>
</a>


<!-- FOOTER -->
<footer class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100 py-6">
  <div class="container mx-auto flex flex-col md:flex-row justify-between items-center px-4">
    <div>
      <h2 class="font-semibold text-lg">Amos Kisilu Advocates</h2>
      <p>Kilimani, Nairobi, Kenya</p>
      <p>Email: amos@example.com</p>
      <p>Phone: +254 712 345678</p>
    </div>
    <div class="mt-4 md:mt-0">
      <p>&copy; {{ year }} Amos Kisilu. All rights reserved.</p>
    </div>
  </div>
</footer>

<!-- JS -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const html = document.documentElement;
    const darkToggle = document.getElementById('darkToggle');
    const mobileToggle = document.getElementById('mobile-dark-toggle');
    const moonIcon = document.getElementById('moon');
    const sunIcon = document.getElementById('sun');
    const hamburgerBtn = document.getElementById('hamburger-btn');
    const mobileMenu = document.getElementById('mobile-menu');

    // Apply saved theme
    const theme = localStorage.theme;
    if (theme === 'dark') {
      html.classList.add('dark');
      moonIcon.classList.add('hidden');
      sunIcon.classList.remove('hidden');
    } else {
      html.classList.remove('dark');
      moonIcon.classList.remove('hidden');
      sunIcon.classList.add('hidden');
    }

    // Theme toggle function
    function toggleTheme() {
      const isDark = html.classList.contains('dark');
      html.classList.toggle('dark');
      localStorage.theme = isDark ? 'light' : 'dark';
      moonIcon.classList.toggle('hidden');
      sunIcon.classList.toggle('hidden');
    }

    // Event listeners
    if (darkToggle) darkToggle.addEventListener('click', toggleTheme);
    if (mobileToggle) mobileToggle.addEventListener('click', toggleTheme);
    if (hamburgerBtn) hamburgerBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  });
</script>

</body>
</html>
